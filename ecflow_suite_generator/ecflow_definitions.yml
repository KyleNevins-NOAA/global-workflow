---
suites:
  edits:
    ECF_TRIES: '1'
    ENVIR: 'prod'
    PROJ: 'GFS'
    PROJENVIR: 'DEV'
    QUEUE: 'dev'
    QUEUESHARED: 'dev_shared'
    QUEUESERV: 'dev_transfer'
    ECF_INCLUDE: '/lfs/h2/emc/global/noscrub/Lin.Gan/git/feature-ops-wcoss2/ecf/include'
    MACHINE_SITE: 'development'
  '00':
    externs:
    - "/prod18/gdas/jgdas_forecast"
    - "/prod18/gdas/atmos/post"
    - "/prod18/enkfgdas/post"
    - "/prod18/gdas/atmos/post_processing/jgdas_atmos_chgres_forenkf"
    edits:
      CYC: '00'      
  '06':
    externs:
    - "/prod00/gdas/jgdas_forecast"
    edits:
      CYC: '06'
models:
  gfs:
    type: family
    repeat: "day 1"
    edits:
      PACKAGEHOME: "/lfs/h2/emc/global/noscrub/Lin.Gan/git/feature-ops-wcoss2"
      ECF_FILES: "%PACKAGEHOME%/ecf/scripts/gfs"
    atmos:
      type: family
      obsproc:
        type: family
        dump:
          type: family
          jgfs_atmos_tropcy_qc_reloc:
            type: task
            events:
            - "jtwc_bull_email"
            time: 02:41
      post:
        type: family
        jgfs_atmos_post_manager:
          type: task
          events:
          - "release_postanl"
          release_post:
            type: event_loop
            script: release_post
            total_events: env.FHMAX_GFS_00
          triggers:
          - "../analysis/jgfs_atmos_analysis == complete"
        jgfs_atmos_post_anl:
          type: task
          triggers:
          - "./jgfs_atmos_post_manager:release_postanl"
          edits:
            FHRGRP: '000'
            FHRLST: 'anl'
            HR: 'anl'
            FHR: 'anl'
        jgfs_atmos_post_task_loop:
          type: task_loop
          script: 'jgfs_atmos_post_f'
          total_events: env.FHMAX_GFS_00
          looping_parameters:
            FHRGRP:
              type: edit
              initial_count: 001
            FHRLST:
              type: edit
              count_prefix: 'f'
            FHR:
              type: edit
              count_prefix: 'f'
            Hour:
              type: edit
              name: HR
            jgfs_atmos_post_manager:
              type: trigger
              triggers:
              - './jgfs_atmos_post_manager:release_post&counter == complete'
      atmos_post_processing:
        type: post
        jgfs_atmos_wafs_gcip:
          type: task
          triggers:
          - "../post/jgfs_atmos_post_f003 == complete"
          time: 04:40
        grib_wafs:
          type: family
          jgfs_atmos_wafs:
            type: task_loop
            script: 'jgfs_atmos_wafs_f'
            increment: 6
            total_events: 5
            looping_parameters:
              atoms_triggers:
                type: trigger
                increment: 6
                triggers:
                - "../../post/jgfs_atmos_post_f&counter == complete"
                - "./jgfs_atmos_wafs_f&counter == complete"
              atoms_edits:
                type: edit
                increment: 6
    forecast:
      type: task
      script: jgfs_forecast
      triggers:
      - "./atmos/analysis/jgfs_atmos_analysis:release_fcst"
      - "./wave/prep/jgfs_wave_prep == complete"
      events:
      - "test_1"
      - "test_2"
      edits:
        FHRGRP: '042'
        CYC: '00'
  gdas:
    type: family
    edits:
      TEST: "test/edit"
