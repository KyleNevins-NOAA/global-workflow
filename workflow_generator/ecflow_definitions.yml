---
suite:
  externs:
  - '/task_limit:TOTALITY'
  fcstonly:
    parameters:
      PSLOT: 'ecffo_c192'
      PDY: '20200906'
      EDATE: '20200907'
      ECF_INCLUDE: '/scratch1/NCEPDEV/global/Lin.Gan/git/global-workflow-develop/ecf/include'
      ENVIR: 'para'
      MACHINE_SITE: 'development'
      CYC: '00'
      QUEUE: 'batch'
      QUEUE_SERVICE: 'service'
      PROJENVIR: 'DEV'
      HERA_ACCOUNT: 'fv3-cpu'
      EMC_USER: env.USER
      gfs_ver: 'v16.2.0'
      PACKAGEHOME: '/scratch1/NCEPDEV/global/%EMC_USER%/para/packages/gfs.%gfs_ver%'
      ECF_FILES: '%PACKAGEHOME%/ecf/scripts/gfs'
      PROJ: 'GFS'
nodes:
  GFSApp:
    type: family
    edits:
      NET: 'gfs'
    gfs:
      type: family
      edits:
        RUN: 'gfs'
      atmos:
        type: family
        jgfs_getic:
          type: task
        jgfs_forecast:
          type: task
          triggers:
          - './atmos/jgfs_getic == complete'
        post:
          type: family
          jgfs_atmos_post_manager:
            type: task
            triggers:
            - '../../jgfs_forecast == active'
            release_post_event_loop:
              type: event_loop
              script: release_post
              total_events: 4
          jgfs_atmos_post_task_loop:
            type: task_loop
            script: jgfs_atmos_post_f
            total_events: 4
            looping_parameters:
              jgfs_atmos_post_manager:
                type: trigger
                triggers:
                - './jgfs_atmos_post_manager:release_post&counter == complete'
              FHRGRP:
                type: edit
                initial_count: 001
              FHRLST:
                type: edit
                count_prefix: 'f'
              FHR:
                type: edit
                count_prefix: 'f'
              Hour:
                type: edit
                name: HR
